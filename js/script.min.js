"use strict";var backgroundToggles=document.querySelectorAll(".background-slider"),currentSlide=0,waitTimeSlideChange=5e3;if(backgroundToggles.length)for(var startChangesSlide=setInterval(function(){changeSlide(currentSlide+1),currentSlide+=1},waitTimeSlideChange),i=0;i<backgroundToggles.length;i++)backgroundToggles[i].addEventListener("change",function(){clearInterval(startChangesSlide)});function changeSlide(e){var n=(backgroundToggles.length+e-1)%backgroundToggles.length,e=(backgroundToggles.length+e)%backgroundToggles.length;backgroundToggles[n].checked=!1,backgroundToggles[e].checked=!0}for(var modals={buttonClose:document.querySelectorAll(".popup__button-close"),popupFeedback:document.querySelector(".popup-feedback"),modalWrap:document.querySelector(".modal")},i=0,length=modals.buttonClose.length;i<length;i++)modals.buttonClose[i].addEventListener("click",feedbackToggleShow);function feedbackToggleShow(){modalWrapToggleShow(),modals.popupFeedback.classList.toggle("modal_show")}function modalWrapToggleShow(){modals.modalWrap.classList.toggle("modalWrap_show")}var rangeCoords,rangeWidth,distance,min,max,range={config:{min:0,max:800},container:document.querySelector(".range"),selected:document.querySelector(".range__selected"),thumb:{min:document.querySelector(".range__handle_min"),max:document.querySelector(".range__handle_max")},output:{min:document.querySelector(".filters__price_min"),max:document.querySelector(".filters__price_max")}};function getCoords(e){e=e.getBoundingClientRect();return{left:e.left,right:e.right}}function pixelsToValue(e){e=e*distance/rangeWidth;return Math.floor(e)}function valueToPixels(e){return e*rangeWidth/distance}function setMinValue(e){e=valueToPixels(e);e<0&&(e=0),max<e&&(e=max),range.selected.style.left=e+"px",min=e}function setMaxValue(e){e=valueToPixels(e);e<min&&(e=min),rangeWidth<e&&(e=rangeWidth),range.selected.style.right=rangeWidth-e+"px",max=e}function init(){var e=new ymaps.Map("map",{center:[59.939311,30.329355],zoom:16}),n=new ymaps.Placemark([59.938652,30.323185],{},{iconLayout:"default#image",iconImageHref:"img/svg/pin.svg",iconImageSize:[80,140],iconImageOffset:[-40,-140]});e.geoObjects.add(n)}range.container&&(rangeCoords=getCoords(range.container),rangeWidth=range.container.offsetWidth,distance=range.config.max-range.config.min,min=parseInt(getComputedStyle(range.selected).left),max=rangeWidth-parseInt(getComputedStyle(range.selected).right),setMinValue(100),setMaxValue(500),range.thumb.min.addEventListener("mousedown",function(e){var n=e.pageX-getCoords(range.selected).left;document.onmousemove=function(e){getCoords(range.selected);e=e.pageX-rangeCoords.left-n;e<0&&(e=0),max<e&&(e=max),range.output.min.innerHTML=pixelsToValue(e),min=e,range.selected.style.left=e+"px"},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}),range.thumb.min.ondragstart=function(){return!1},range.thumb.max.addEventListener("mousedown",function(e){var n=e.pageX-getCoords(range.selected).right;document.onmousemove=function(e){getCoords(range.selected);e=e.pageX-rangeCoords.left-n;rangeWidth<e&&(e=rangeWidth),e<min&&(e=min),range.output.max.innerHTML=pixelsToValue(e),max=e,range.selected.style.right=rangeWidth-e+"px"},document.onmouseup=function(){document.onmousemove=document.onmouseup=null}}),range.thumb.max.ondragstart=function(){return!1}),document.getElementById("map")&&ymaps.ready(init);